{
  "version": 3,
  "sources": ["../../../bin/live-reload.js", "../../../src/features/memberstack/global.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// MAKE FREE TRIAL OR TIME LIMITED PLAN EXPIRE AFTER SET TIME\n/* eslint-disable @typescript-eslint/no-explicit-any */\nwindow.Webflow ||= [];\nwindow.Webflow.push(async () => {\n  const freePlans = {\n    trialPlan: {\n      id: 'pln_myo-membership-trial-plan-846g0a3q',\n    },\n  };\n\n  // @ts-expect-error \"memberstack\"\n  const memberstack = window.$memberstackDom;\n\n  // Fetch the member's data\n  const member = await memberstack.getMemberJSON();\n\n  // Fetch the member's planConnections from local storage\n  const memberDataFromLocalStorage = JSON.parse(localStorage.getItem('_ms-mem') ?? '');\n  const { planConnections } = memberDataFromLocalStorage;\n\n  if (!planConnections.length) return;\n\n  const planConnection = planConnections[0];\n\n  if (planConnection.planId === freePlans.trialPlan.id && planConnection.status === 'ACTIVE')\n    handleTrialPlan(member);\n\n  function handleTrialPlan(member: { data: { [x: string]: string | number | Date } }) {\n    // Check the members free-trial-date\n    const currentDate = new Date();\n    const oneTimeDate = new Date(member.data['free-trial-date']);\n\n    if (currentDate > oneTimeDate) {\n      // If the members' one time date has passed, remove x plan\n      memberstack\n        .removePlan({\n          planId: freePlans.trialPlan.id,\n        })\n        .then(() => {\n          // Redirect to /free-trial-expired\n          window.location.href = '/medlemskap';\n        })\n        .catch(() => {\n          // Handle error\n          window.location.href = '/medlemskap';\n        });\n    }\n  }\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,uBAAY,UAAU,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACE7F,SAAO,YAAY,CAAC;AACpB,SAAO,QAAQ,KAAK,YAAY;AAC9B,UAAM,YAAY;AAAA,MAChB,WAAW;AAAA,QACT,IAAI;AAAA,MACN;AAAA,IACF;AAGA,UAAM,cAAc,OAAO;AAG3B,UAAM,SAAS,MAAM,YAAY,cAAc;AAG/C,UAAM,6BAA6B,KAAK,MAAM,aAAa,QAAQ,SAAS,KAAK,EAAE;AACnF,UAAM,EAAE,gBAAgB,IAAI;AAE5B,QAAI,CAAC,gBAAgB;AAAQ;AAE7B,UAAM,iBAAiB,gBAAgB,CAAC;AAExC,QAAI,eAAe,WAAW,UAAU,UAAU,MAAM,eAAe,WAAW;AAChF,sBAAgB,MAAM;AAExB,aAAS,gBAAgBA,SAA2D;AAElF,YAAM,cAAc,oBAAI,KAAK;AAC7B,YAAM,cAAc,IAAI,KAAKA,QAAO,KAAK,iBAAiB,CAAC;AAE3D,UAAI,cAAc,aAAa;AAE7B,oBACG,WAAW;AAAA,UACV,QAAQ,UAAU,UAAU;AAAA,QAC9B,CAAC,EACA,KAAK,MAAM;AAEV,iBAAO,SAAS,OAAO;AAAA,QACzB,CAAC,EACA,MAAM,MAAM;AAEX,iBAAO,SAAS,OAAO;AAAA,QACzB,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,CAAC;",
  "names": ["member"]
}
