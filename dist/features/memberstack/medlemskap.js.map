{
  "version": 3,
  "sources": ["../../../bin/live-reload.js", "../../../src/utils/plans.json", "../../../src/features/memberstack/medlemskap.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "{\n  \"trialPlan\": {\n    \"id\": \"pln_myo-membership-trial-plan-846g0a3q\",\n    \"membershipPageBannerText\": \"Du har en 7-dagars gratis provperiod aktiv som ger dig m\u00F6jlighet att utforska alla v\u00E5ra instruktioner utan begr\u00E4nsningar.\"\n  },\n  \"testPlan\": {\n    \"id\": \"pln_myo-medlemskap-test-gr4r0xvn\",\n    \"membershipPageBannerText\": \"Du har en provperiod aktiv som ger dig m\u00F6jlighet att utforska v\u00E5ra instruktioner utan begr\u00E4nsningar.\"\n  }\n}\n", "import plans from '$utils/plans.json';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nwindow.Webflow ||= [];\nwindow.Webflow.push(async () => {\n  // @ts-expect-error \"memberstack\"\n  const memberstack = window.$memberstackDom;\n\n  const { data: member } = await memberstack.getCurrentMember();\n\n  if (!member) return;\n\n  const { planConnections } = member;\n\n  planConnections.forEach((plan: any) => {\n    if (plan.type === 'FREE') handleFreePlans(plan);\n\n    const {\n      planId,\n      active,\n      payment: { cancelAtDate, nextBillingDate },\n    } = plan;\n\n    // plan not active\n    if (!active) return;\n    // plan active\n    const planEl = document.querySelector(`[memberstack-plan-id=${planId}]`);\n\n    if (!planEl) return;\n\n    // plan cancelled\n    if (cancelAtDate) {\n      planEl.classList.add('is-cancelled-plan');\n\n      const cancelAtDateEl = planEl.querySelector('[memberstack-plan-element=cancel-date]');\n      if (!cancelAtDateEl) return;\n\n      const cancelAtMs = cancelAtDate * 1000;\n      const cancelAtDateFormatted = formatDate(cancelAtMs);\n\n      cancelAtDateEl.textContent = cancelAtDateFormatted;\n    }\n\n    // active\n    if (nextBillingDate && !cancelAtDate) {\n      planEl.classList.add('is-current-plan');\n\n      const nextBillingEl = planEl.querySelector('[memberstack-plan-element=next-billing-date]');\n      if (!nextBillingEl) return;\n\n      const nextBillingDateMs = nextBillingDate * 1000;\n      const nextBillingDateFormatted = formatDate(nextBillingDateMs);\n\n      nextBillingEl.textContent = nextBillingDateFormatted;\n    }\n  });\n\n  function handleFreePlans(plan: any) {\n    const textEl = document.querySelector('.membership_free-plans_text');\n    if (!textEl) return;\n\n    if (plan.planId === plans.testPlan.id) {\n      textEl.textContent = plans.testPlan.membershipPageBannerText;\n    }\n\n    if (plan.planId === plans.trialPlan.id) {\n      textEl.textContent = plans.trialPlan.membershipPageBannerText;\n    }\n  }\n});\n\nfunction formatDate(dateMs: number) {\n  const date = new Date(dateMs);\n\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n\n  return `${year}-${month}-${day}`;\n}\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,uBAAY,UAAU,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F;AAAA,IACE,WAAa;AAAA,MACX,IAAM;AAAA,MACN,0BAA4B;AAAA,IAC9B;AAAA,IACA,UAAY;AAAA,MACV,IAAM;AAAA,MACN,0BAA4B;AAAA,IAC9B;AAAA,EACF;;;ACNA,SAAO,YAAY,CAAC;AACpB,SAAO,QAAQ,KAAK,YAAY;AAE9B,UAAM,cAAc,OAAO;AAE3B,UAAM,EAAE,MAAM,OAAO,IAAI,MAAM,YAAY,iBAAiB;AAE5D,QAAI,CAAC;AAAQ;AAEb,UAAM,EAAE,gBAAgB,IAAI;AAE5B,oBAAgB,QAAQ,CAAC,SAAc;AACrC,UAAI,KAAK,SAAS;AAAQ,wBAAgB,IAAI;AAE9C,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA,SAAS,EAAE,cAAc,gBAAgB;AAAA,MAC3C,IAAI;AAGJ,UAAI,CAAC;AAAQ;AAEb,YAAM,SAAS,SAAS,cAAc,wBAAwB,MAAM,GAAG;AAEvE,UAAI,CAAC;AAAQ;AAGb,UAAI,cAAc;AAChB,eAAO,UAAU,IAAI,mBAAmB;AAExC,cAAM,iBAAiB,OAAO,cAAc,wCAAwC;AACpF,YAAI,CAAC;AAAgB;AAErB,cAAM,aAAa,eAAe;AAClC,cAAM,wBAAwB,WAAW,UAAU;AAEnD,uBAAe,cAAc;AAAA,MAC/B;AAGA,UAAI,mBAAmB,CAAC,cAAc;AACpC,eAAO,UAAU,IAAI,iBAAiB;AAEtC,cAAM,gBAAgB,OAAO,cAAc,8CAA8C;AACzF,YAAI,CAAC;AAAe;AAEpB,cAAM,oBAAoB,kBAAkB;AAC5C,cAAM,2BAA2B,WAAW,iBAAiB;AAE7D,sBAAc,cAAc;AAAA,MAC9B;AAAA,IACF,CAAC;AAED,aAAS,gBAAgB,MAAW;AAClC,YAAM,SAAS,SAAS,cAAc,6BAA6B;AACnE,UAAI,CAAC;AAAQ;AAEb,UAAI,KAAK,WAAW,cAAM,SAAS,IAAI;AACrC,eAAO,cAAc,cAAM,SAAS;AAAA,MACtC;AAEA,UAAI,KAAK,WAAW,cAAM,UAAU,IAAI;AACtC,eAAO,cAAc,cAAM,UAAU;AAAA,MACvC;AAAA,IACF;AAAA,EACF,CAAC;AAED,WAAS,WAAW,QAAgB;AAClC,UAAM,OAAO,IAAI,KAAK,MAAM;AAE5B,UAAM,OAAO,KAAK,YAAY;AAC9B,UAAM,QAAQ,OAAO,KAAK,SAAS,IAAI,CAAC,EAAE,SAAS,GAAG,GAAG;AACzD,UAAM,MAAM,OAAO,KAAK,QAAQ,CAAC,EAAE,SAAS,GAAG,GAAG;AAElD,WAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG;AAAA,EAChC;",
  "names": []
}
