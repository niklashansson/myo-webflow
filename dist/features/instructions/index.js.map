{
  "version": 3,
  "sources": ["../../../bin/live-reload.js", "../../../src/features/dialog/index.ts", "../../../src/features/instructions/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "window.Webflow ||= [];\nwindow.Webflow.push(() => {\n  setupDialog();\n});\n\nexport function setupDialog() {\n  const dialog = document.querySelector('dialog.dialog') as HTMLDialogElement;\n  if (!dialog) return;\n\n  const closeBtns = Array.from(dialog.querySelectorAll('[dialog-element=\"close\"]'));\n\n  const instanceElements = Array.from(\n    dialog.querySelectorAll('[dialog-instance]')\n  ) as HTMLElement[];\n  if (!instanceElements.length) return;\n\n  const instances = instanceElements.map((instanceEl) => setupInstance(instanceEl, dialog));\n\n  // @ts-expect-error unnamed\n  window.customDialog = {\n    element: dialog,\n    instances,\n  };\n\n  closeBtns.forEach((btn) => {\n    btn.setAttribute('role', 'button');\n    btn.setAttribute('tabindex', '0');\n    btn.addEventListener('click', () => closeDialog(dialog));\n  });\n\n  dialog.addEventListener('click', (e) => {\n    const rect = dialog.getBoundingClientRect();\n    const isInDialog =\n      rect.top <= e.clientY &&\n      e.clientY <= rect.top + rect.height &&\n      rect.left <= e.clientX &&\n      e.clientX <= rect.left + rect.width;\n\n    if (!isInDialog) closeDialog(dialog);\n  });\n\n  dialog.addEventListener('close', () => {\n    closeDialog(dialog);\n  });\n}\n\nfunction setupInstance(instanceEl: HTMLElement, dialog: HTMLDialogElement) {\n  const id = instanceEl.getAttribute('id');\n  if (!id) return;\n\n  const triggers: HTMLLinkElement[] = Array.from(document.querySelectorAll(`a[href=\"#${id}\"]`));\n  if (!triggers.length) return;\n\n  const index = Number(instanceEl.getAttribute('dialog-instance'));\n  if (!index) return;\n\n  const ariaLabel = instanceEl.getAttribute('dialog-aria');\n\n  triggers.forEach((trigger) => setupTrigger(trigger, index, dialog));\n\n  const instance = {\n    id,\n    dialog,\n    triggers,\n    index,\n    ariaLabel,\n    element: instanceEl,\n  };\n\n  return instance;\n}\n\nfunction setupTrigger(element: HTMLLinkElement, instanceIndex: number, dialog: HTMLDialogElement) {\n  element.href = '';\n\n  element.addEventListener('keydown', (e) => {\n    e.preventDefault();\n    if (e.key === 'Enter' || e.key === ' ') openDialog(instanceIndex, dialog);\n  });\n  element.addEventListener('click', (e) => {\n    e.preventDefault();\n    openDialog(instanceIndex, dialog);\n  });\n}\n\nfunction openDialog(instanceIndex: number, dialog: HTMLDialogElement) {\n  dialog.setAttribute('dialog-active', `${instanceIndex}`);\n  dialog.showModal();\n}\n\nfunction closeDialog(dialog: HTMLDialogElement) {\n  dialog.setAttribute('dialog-active', '');\n  dialog.close();\n}\n", "import { setupDialog } from '../dialog';\n\n// @ts-expect-error expected\nwindow.fsAttributes = window.fsAttributes || [];\n// @ts-expect-error expected\nwindow.fsAttributes.push([\n  'cmsload',\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (listInstances: any) => {\n    // The callback passes a `listInstances` array with all the `CMSList` instances on the page.\n    const [listInstance] = listInstances;\n\n    // The `renderitems` event runs whenever the list renders items after switching pages.\n    listInstance.on('renderitems', () => {\n      setupDialog();\n    });\n  },\n]);\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,uBAAY,UAAU,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F,SAAO,YAAY,CAAC;AACpB,SAAO,QAAQ,KAAK,MAAM;AACxB,gBAAY;AAAA,EACd,CAAC;AAEM,WAAS,cAAc;AAC5B,UAAM,SAAS,SAAS,cAAc,eAAe;AACrD,QAAI,CAAC;AAAQ;AAEb,UAAM,YAAY,MAAM,KAAK,OAAO,iBAAiB,0BAA0B,CAAC;AAEhF,UAAM,mBAAmB,MAAM;AAAA,MAC7B,OAAO,iBAAiB,mBAAmB;AAAA,IAC7C;AACA,QAAI,CAAC,iBAAiB;AAAQ;AAE9B,UAAM,YAAY,iBAAiB,IAAI,CAAC,eAAe,cAAc,YAAY,MAAM,CAAC;AAGxF,WAAO,eAAe;AAAA,MACpB,SAAS;AAAA,MACT;AAAA,IACF;AAEA,cAAU,QAAQ,CAAC,QAAQ;AACzB,UAAI,aAAa,QAAQ,QAAQ;AACjC,UAAI,aAAa,YAAY,GAAG;AAChC,UAAI,iBAAiB,SAAS,MAAM,YAAY,MAAM,CAAC;AAAA,IACzD,CAAC;AAED,WAAO,iBAAiB,SAAS,CAAC,MAAM;AACtC,YAAM,OAAO,OAAO,sBAAsB;AAC1C,YAAM,aACJ,KAAK,OAAO,EAAE,WACd,EAAE,WAAW,KAAK,MAAM,KAAK,UAC7B,KAAK,QAAQ,EAAE,WACf,EAAE,WAAW,KAAK,OAAO,KAAK;AAEhC,UAAI,CAAC;AAAY,oBAAY,MAAM;AAAA,IACrC,CAAC;AAED,WAAO,iBAAiB,SAAS,MAAM;AACrC,kBAAY,MAAM;AAAA,IACpB,CAAC;AAAA,EACH;AAEA,WAAS,cAAc,YAAyB,QAA2B;AACzE,UAAM,KAAK,WAAW,aAAa,IAAI;AACvC,QAAI,CAAC;AAAI;AAET,UAAM,WAA8B,MAAM,KAAK,SAAS,iBAAiB,YAAY,EAAE,IAAI,CAAC;AAC5F,QAAI,CAAC,SAAS;AAAQ;AAEtB,UAAM,QAAQ,OAAO,WAAW,aAAa,iBAAiB,CAAC;AAC/D,QAAI,CAAC;AAAO;AAEZ,UAAM,YAAY,WAAW,aAAa,aAAa;AAEvD,aAAS,QAAQ,CAAC,YAAY,aAAa,SAAS,OAAO,MAAM,CAAC;AAElE,UAAM,WAAW;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS;AAAA,IACX;AAEA,WAAO;AAAA,EACT;AAEA,WAAS,aAAa,SAA0B,eAAuB,QAA2B;AAChG,YAAQ,OAAO;AAEf,YAAQ,iBAAiB,WAAW,CAAC,MAAM;AACzC,QAAE,eAAe;AACjB,UAAI,EAAE,QAAQ,WAAW,EAAE,QAAQ;AAAK,mBAAW,eAAe,MAAM;AAAA,IAC1E,CAAC;AACD,YAAQ,iBAAiB,SAAS,CAAC,MAAM;AACvC,QAAE,eAAe;AACjB,iBAAW,eAAe,MAAM;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,WAAS,WAAW,eAAuB,QAA2B;AACpE,WAAO,aAAa,iBAAiB,GAAG,aAAa,EAAE;AACvD,WAAO,UAAU;AAAA,EACnB;AAEA,WAAS,YAAY,QAA2B;AAC9C,WAAO,aAAa,iBAAiB,EAAE;AACvC,WAAO,MAAM;AAAA,EACf;;;AC1FA,SAAO,eAAe,OAAO,gBAAgB,CAAC;AAE9C,SAAO,aAAa,KAAK;AAAA,IACvB;AAAA;AAAA,IAEA,CAAC,kBAAuB;AAEtB,YAAM,CAAC,YAAY,IAAI;AAGvB,mBAAa,GAAG,eAAe,MAAM;AACnC,oBAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA,EACF,CAAC;",
  "names": []
}
